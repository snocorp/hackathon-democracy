<div class="modal-header">
  <button type="button" class="close" ng-click="close()" data-dismiss="modal" aria-hidden="true">&times;</button>
  <h4 class="modal-title" id="addVotersLabel">Add Voters</h4>
</div>
<div class="modal-body" novalidate>
  <form name="addVoterForm" role="form" ng-submit="addNewVoter()">
    <div class="form-group">
      <label for="addVoterEmail">Email</label>
      <p ng-bind="addVoterForm.$valid ? newVoterEmail.length : '&nbsp;'" ng-class="'pull-right ' + (newVoterEmail.length > 1000 ? 'text-danger' : 'text-muted')"></p>
      <input type="email" class="form-control" id="addVoterEmail" ng-model="newVoterEmail" placeHolder="Enter email address" xng-focus="focusEmail" ng-blur="emailLostFocus()"/>
    </div>
    <div class="form-group">
      <label for="addVoterName">Name</label>
      <p ng-bind="newVoterName.length" ng-class="'pull-right ' + (newVoterName.length > 100 ? 'text-danger' : 'text-muted')"></p>
      <input type="text" class="form-control" id="addVoterName" ng-model="newVoterName" placeHolder="Enter name"/>
    </div>
    <div class="alert alert-danger" ng-show="error && error.messages.length > 0">
      <ul ng-show="error.messages.length > 1">
        <li ng-repeat="error in error.messages">{{error}}</li>
      </ul>
      <span ng-show="error.messages.length === 1">{{error.messages[0]}}</span>
    </div>
    <button type="submit" class="btn btn-default">Add</button>
  </form>
</div>
<div class="modal-body" ng-hide="newVoters.length === 0">
  <div class="panel panel-default">
    <div class="panel-heading">New Voters</div>
    <div class="panel-body">
      <p>Registration email will be sent to the following new voters:</p>
      <ul class="list-group">
        <li ng-repeat="voter in newVoters" class="list-group-item">
          <button class="close" ng-click="removeNewVoter($index)">&ndash;</button>
          {{voter.name}} ({{voter.email}})
        </li>
      </ul>
    </div>
  </div>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-primary" ng-disabled="newVoters.length === 0" ng-click="ok()">Send</button>
  <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>
</div>